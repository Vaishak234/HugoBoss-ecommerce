{{>admin/sideNav}}


<div class="order-details mt-5">

  <div class="card">
     <h1 class="title">User</h1>
     <p>Email : <span>{{orderDetails.email}}</span></p>
    {{#if orderDetails.mobile}} <p>Mobile : <span>{{orderDetails.mobile}}</span></p> {{/if}}
  </div>


  <div class="card">
     <h1 class="title">Product</h1>
     <div class="input__container-images">
            <div class="slideshow-container">
                 {{#if orderDetails.images}}
                {{#each orderDetails.images}}
                  <div class="mySlides ">
                    <img src="/uploads/{{this}}" style="width:100%">
                  </div>
                  {{/each}}
                 
                  <!-- Next and previous buttons -->
                  <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                  <a class="next" onclick="plusSlides(1)">&#10095;</a>
                  {{/if}}
            </div>
            
        </div>
      <p>Title : <span>{{orderDetails.title}} </span></p>
      <p>Size : <span> {{orderDetails.size}}</span></p>
      <p>Quantity : <span> {{orderDetails.quantity}}</span></p>
      <p>Price : <span> {{orderDetails.price}}</span></p>
      <p>Delevery : <span> {{orderDetails.delevery}}</span></p>
      <p>total : <span> {{orderDetails.totalAmount}}</span></p>
      <p>status : <span>{{orderDetails.status}} </span></p>
      <p>Payment : <span>{{orderDetails.payment}} </span></p>
  </div>

  <div class="card">
     <h1 class="title">Delevery address</h1>
      <p>Name : <span>{{orderDetails.orderFirstName}} {{orderDetails.orderLastName}}</span></p>
      <p>Address : <span> {{orderDetails.address}}</span></p>
      <p>City : <span> {{orderDetails.city}}</span></p>
      <p>District : <span> {{orderDetails.district}}</span></p>
      {{#if orderDetails.state}}<p>State : <span> {{orderDetails.state}}</span></p>{{/if}}
      <p>Pincode : <span>{{orderDetails.pincode}} </span></p>
      <p>Mobile : <span> {{orderDetails.orderMobile}}</span></p>
      <p>status : <span> {{orderDetails.status}}</span></p>
  </div>
  <div class="card d-flex justify-content-center">
    {{#if orderDetails.delevered}} 
       <h1 class="text-primary">Delevered</h1>
    {{else}}
     {{#if orderDetails.cancelled}} 
     <h1 class="text-danger">cancelled</h1>
     {{else}}
    <form action="/admin/order-details/{{orderDetails._id}}/{{orderDetails.productId}}/{{orderDetails.size}}" method="post">
    <label for="deleveryCheck" >Delevered</label>
    <input type="checkbox" name="delevered" value="true" style="width: 22px;" id="deleveryCheck">

    <button type="submit" class="btn btn-primary ms-3"> submit</button>
    </form>
     {{/if}}
    {{/if}}
  </div>

</div>

<style>
    .orderDetails{
        height: 100vh;
        width: 100%;
        
    }
    .card{
        width: 90%;
        min-height: 100px;
        padding: 20px 40px;
        margin: auto;
        margin-bottom: 30px;
    }

/* Slideshow container */
.slideshow-container {
  max-width: 1000px;
  position: relative;
  margin-left: 60px;
}

img{
    height: 400px;
    object-fit: contain;
}
.mySlide{
    display: flex;
    align-items: center;

}
.input__container-images{
    width: 300px;
    margin-block: 20px;

}
.title{
    text-align: center;
}

/* Hide the images by default */


/* Next & previous buttons */
.prev, .next {
  cursor: pointer;
  position: absolute;
  top: 50%;
  width: auto;
  margin-top: -22px;
  padding: 16px;
  color: white;
  font-weight: bold;
  font-size: 18px;
  border-radius: 0 3px 3px 0;
  user-select: none;
  background-color: black;
}

/* Position the "next button" to the right */
.next {
  right: -50px;
  border-radius: 3px 0 0 3px;
}
.prev{
    left: -50px;
}

/* On hover, add a black background color with a little bit see-through */
.prev:hover, .next:hover {
  background-color: rgba(0,0,0,0.8);
}

/* Caption text */
.text {
  color: #f2f2f2;
  font-size: 15px;
  padding: 8px 12px;
  position: absolute;
  bottom: 8px;
  width: 100%;
  text-align: center;
}

</style>

<script>

    let slideIndex = 1;
showSlides(slideIndex);

// Next/previous controls
function plusSlides(n) {
  showSlides(slideIndex += n);
}

// Thumbnail image controls
function currentSlide(n) {
  showSlides(slideIndex = n);
}

function showSlides(n) {
  let i;
  let slides = document.getElementsByClassName("mySlides");
  let dots = document.getElementsByClassName("dot");
  if (n > slides.length) {slideIndex = 1}
  if (n < 1) {slideIndex = slides.length}
  for (i = 0; i < slides.length; i++) {
    slides[i].style.display = "none";
  }
  for (i = 0; i < dots.length; i++) {
    dots[i].className = dots[i].className.replace(" active", "");
  }
  slides[slideIndex-1].style.display = "block";
  dots[slideIndex-1].className += " active";
}
</script>